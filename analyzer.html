<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏÜåÏù¥Ìôà ÎåÄÎ≥∏ Î∂ÑÏÑùÍ∏∞</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f7;
        }
        
        .container {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #1d1d1f;
            margin-bottom: 30px;
        }
        
        textarea {
            width: 100%;
            height: 200px;
            padding: 16px;
            border: 2px solid #e5e5e7;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 20px;
            resize: vertical;
        }
        
        button {
            background: #007AFF;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 30px;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        .result {
            background: #f5f5f7;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }
        
        .score {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .score-item {
            background: white;
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            min-width: 80px;
        }
        
        .score-number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .score-label {
            font-size: 12px;
            color: #666;
        }
        
        .analysis {
            background: white;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .phase {
            margin-bottom: 12px;
        }
        
        .phase-title {
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .hook { color: #007AFF; }
        .problem { color: #FF3B30; }
        .solution { color: #34C759; }
        .cta { color: #FF9500; }
        
        .suggestions {
            background: white;
            padding: 16px;
            border-radius: 8px;
        }
        
        .suggestion {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }
        
        .suggestion::before {
            content: "üí°";
            position: absolute;
            left: 0;
        }
        
        .type-recommendation {
            background: linear-gradient(135deg, #007AFF, #5856D6);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        
        .type-recommendation h3 {
            margin-bottom: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ ÏÜåÏù¥Ìôà ÎåÄÎ≥∏ Î∂ÑÏÑùÍ∏∞</h1>
        
        <textarea id="scriptText" placeholder="Î∂ÑÏÑùÌï† ÎåÄÎ≥∏ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî...

ÏòàÏãú:
ÏöîÏ¶ò Ìï¥Ïô∏ÏóêÏÑú Ïù¥Í±∞ ÏôÑÏ†Ñ Ìï´Ìï¥Ïöî.
Í∏∞Ï°¥ Ï†úÌíàÏùÄ Î∂àÌé∏ÌïúÎç∞ Ïù¥ Ï†úÌíàÏùÄ Îã§Î•¥ÎçîÎùºÍ≥†Ïöî.
Í∏∞Îä•ÎèÑ ÎåÄÎ∞ïÏù¥Í≥† Í∞ÄÏÑ±ÎπÑÎèÑ Ï¢ãÏïÑÏöî.
ÎåìÍ∏ÄÏóê 'ÏôÄ!' Ï†ÅÏñ¥Ï£ºÏÑ∏Ïöî DM Î≥¥ÎÇ¥ÎìúÎ¶¥Í≤åÏöî."></textarea>
        
        <button onclick="analyze()">Î∂ÑÏÑùÌïòÍ∏∞</button>
        
        <div id="result" class="result">
            <div id="typeRecommendation" class="type-recommendation"></div>
            <div id="scores" class="score"></div>
            <div id="analysis" class="analysis"></div>
            <div id="suggestions" class="suggestions"></div>
        </div>
    </div>

    <script>
        function analyze() {
            const text = document.getElementById('scriptText').value.trim();
            
            if (!text) {
                alert('ÎåÄÎ≥∏ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }
            
            console.log('Î∂ÑÏÑù ÏãúÏûë:', text);
            
            // Î¨∏Ïû• Î∂ÑÎ¶¨
            const sentences = text.split(/[.!?„ÄÇÔºÅÔºü]/).filter(s => s.trim().length > 0);
            console.log('Î¨∏Ïû•Îì§:', sentences);
            
            if (sentences.length === 0) {
                alert('Î¨∏Ïû•ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§!');
                return;
            }
            
            // Ï†úÌíà ÌÉÄÏûÖ ÌåêÎã®
            const productType = determineProductType(text);
            
            // Í∏∞ÏäπÏ†ÑÍ≤∞ Î∂ÑÎ•ò
            const classified = classifySentences(sentences, productType);
            console.log('Î∂ÑÎ•ò Í≤∞Í≥º:', classified);
            
            // Ï†êÏàò Í≥ÑÏÇ∞
            const scores = calculateScores(classified, productType);
            console.log('Ï†êÏàò:', scores);
            
            // Í≤∞Í≥º ÌëúÏãú
            displayResults(classified, scores, sentences.length, productType);
        }
        
        function determineProductType(text) {
            const functionalKeywords = ['Í≥†ÎØº', 'Î¨∏Ï†ú', 'Î∂àÌé∏', 'Ìï¥Í≤∞', 'Í∏∞Îä•', 'Ìé∏Î¶¨', 'Í∞ÄÏÑ±ÎπÑ', 'Í≥µÍ∞Ñ', 'ÏàòÎÇ©', 'ÌôúÏö©'];
            const designKeywords = ['ÏòàÏÅú', 'Ïù¥ÏÅú', 'ÎîîÏûêÏù∏', 'Í∞êÏÑ±', 'ÎäêÎÇå', 'Î∂ÑÏúÑÍ∏∞', 'Ïä§ÌÉÄÏùº', 'Î¥§ÏßÄÎßå', 'Ï≤òÏùåÎ¥êÏöî'];
            
            let functionalScore = 0;
            let designScore = 0;
            
            functionalKeywords.forEach(keyword => {
                if (text.includes(keyword)) functionalScore++;
            });
            
            designKeywords.forEach(keyword => {
                if (text.includes(keyword)) designScore++;
            });
            
            return designScore > functionalScore ? 'design' : 'functional';
        }
        
        function classifySentences(sentences, productType) {
            const result = {
                hook: [],
                problem: [],
                solution: [],
                cta: []
            };
            
            sentences.forEach((sentence, index) => {
                const s = sentence.trim();
                
                // CTA Î®ºÏ†Ä ÌôïÏù∏ (Í∞ÄÏû• Î™ÖÌôïÌï®)
                if (s.includes('ÎåìÍ∏Ä') || s.includes('DM') || s.includes('ÎßÅÌÅ¨')) {
                    result.cta.push({ text: s, index: index + 1 });
                }
                // ÌõÖ Ìå®ÌÑ¥ ÌôïÏù∏
                else if ((index === 0) || s.includes('Ìï¥Ïô∏ÏóêÏÑú') || s.includes('ÏôÑÏ†Ñ') || s.includes('Ìï´') || s.includes('ÎØ∏Ï≥§') || s.includes('Ïö∞ÏôÄ') || s.includes('ÏôÄ') || s.includes('Ï≤òÏùåÎ¥êÏöî') || s.includes('ÏàòÎßéÏùÄ')) {
                    result.hook.push({ text: s, index: index + 1 });
                }
                // Ï†úÌíà ÌÉÄÏûÖÎ≥Ñ Î¨∏Ï†ú/Ìï¥Í≤∞ Ìå®ÌÑ¥
                else if (productType === 'design') {
                    // ÎîîÏûêÏù∏ Ï§ëÏã¨ Ï†úÌíàÏùÄ Î¨∏Ï†ú Ï†úÍ∏∞Î≥¥Îã§ ÎîîÏûêÏù∏ ÏÑ§Î™Ö
                    if (s.includes('ÏºÄÏù¥Ïä§') || s.includes('Î™®Îûò') || s.includes('Îπõ') || s.includes('Ïù¥Îªê') || s.includes('ÏòàÎªê') || s.includes('ÎîîÏûêÏù∏')) {
                        result.problem.push({ text: s, index: index + 1 });
                    } else {
                        result.solution.push({ text: s, index: index + 1 });
                    }
                } else {
                    // Í∏∞Îä• Ï§ëÏã¨ Ï†úÌíà
                    if (s.includes('Î¨∏Ï†ú') || s.includes('Î∂àÌé∏') || s.includes('Í≥†ÎØº') || s.includes('Í∑ºÎç∞') || s.includes('Ïù∏Îç∞') || s.includes('Î∂ÄÎã¥')) {
                        result.problem.push({ text: s, index: index + 1 });
                    } else {
                        result.solution.push({ text: s, index: index + 1 });
                    }
                }
            });
            
            return result;
        }
        
        function calculateScores(classified, productType) {
            const counts = {
                hook: classified.hook.length,
                problem: classified.problem.length,
                solution: classified.solution.length,
                cta: classified.cta.length
            };
            
            const scores = {};
            
            if (productType === 'design') {
                // ÎîîÏûêÏù∏ Ï§ëÏã¨ Ï†úÌíàÏùÄ Ïäπ(Êâø) Î∂ÄÎ∂ÑÏù¥ ÎîîÏûêÏù∏ ÏÑ§Î™ÖÏù¥ÎØÄÎ°ú Îçî Ï§ëÏöî
                scores.hook = counts.hook >= 1 && counts.hook <= 2 ? 100 : (counts.hook === 0 ? 0 : 70);
                scores.problem = counts.problem >= 2 && counts.problem <= 4 ? 100 : (counts.problem < 2 ? 60 : 70);
                scores.solution = counts.solution >= 1 && counts.solution <= 3 ? 100 : (counts.solution === 0 ? 50 : 70);
                scores.cta = counts.cta === 1 ? 100 : (counts.cta === 0 ? 0 : 80);
            } else {
                // Í∏∞Îä• Ï§ëÏã¨ Ï†úÌíà
                scores.hook = counts.hook >= 1 && counts.hook <= 2 ? 100 : (counts.hook === 0 ? 0 : 70);
                scores.problem = counts.problem >= 1 && counts.problem <= 3 ? 100 : (counts.problem === 0 ? 0 : 70);
                scores.solution = counts.solution >= 2 && counts.solution <= 5 ? 100 : (counts.solution < 2 ? 50 : 70);
                scores.cta = counts.cta === 1 ? 100 : (counts.cta === 0 ? 0 : 80);
            }
            
            scores.overall = Math.round((scores.hook + scores.problem + scores.solution + scores.cta) / 4);
            
            return scores;
        }
        
        function displayResults(classified, scores, totalSentences, productType) {
            // Ï†úÌíà ÌÉÄÏûÖ Ï∂îÏ≤ú
            const typeDiv = document.getElementById('typeRecommendation');
            if (productType === 'design') {
                typeDiv.innerHTML = '<h3>üé® BÌÉÄÏûÖ: ÎîîÏûêÏù∏/Í∞êÏÑ± Ï§ëÏã¨ Ï†úÌíà</h3><p>Ïã¨ÎØ∏ÏÑ±Í≥º Í∞êÏÑ±ÏùÑ Ï§ëÏãúÌïòÎäî Í≥†Í∞ùÏùÑ ÌÉÄÍ≤üÏúºÎ°ú ÌïòÎäî Ï†úÌíàÏúºÎ°ú Î∂ÑÏÑùÎê©ÎãàÎã§.</p>';
                typeDiv.style.background = 'linear-gradient(135deg, #FF3B30, #FF9500)';
            } else {
                typeDiv.innerHTML = '<h3>üîß AÌÉÄÏûÖ: Í∏∞Îä•/Î¨∏Ï†úÌï¥Í≤∞ Ï§ëÏã¨ Ï†úÌíà</h3><p>Ïã§Ïö©ÏÑ±Í≥º Î¨∏Ï†úÌï¥Í≤∞ÏùÑ Ï§ëÏãúÌïòÎäî Í≥†Í∞ùÏùÑ ÌÉÄÍ≤üÏúºÎ°ú ÌïòÎäî Ï†úÌíàÏúºÎ°ú Î∂ÑÏÑùÎê©ÎãàÎã§.</p>';
                typeDiv.style.background = 'linear-gradient(135deg, #007AFF, #5856D6)';
            }
            
            // Ï†êÏàò ÌëúÏãú
            const scoresDiv = document.getElementById('scores');
            scoresDiv.innerHTML = `
                <div class="score-item">
                    <div class="score-number" style="color: ${scores.overall >= 80 ? '#34C759' : scores.overall >= 60 ? '#FF9500' : '#FF3B30'}">${scores.overall}</div>
                    <div class="score-label">Ï¢ÖÌï©</div>
                </div>
                <div class="score-item">
                    <div class="score-number hook">${scores.hook}</div>
                    <div class="score-label">Í∏∞(Ëµ∑) ${classified.hook.length}Í∞ú</div>
                </div>
                <div class="score-item">
                    <div class="score-number problem">${scores.problem}</div>
                    <div class="score-label">Ïäπ(Êâø) ${classified.problem.length}Í∞ú</div>
                </div>
                <div class="score-item">
                    <div class="score-number solution">${scores.solution}</div>
                    <div class="score-label">Ï†Ñ(ËΩâ) ${classified.solution.length}Í∞ú</div>
                </div>
                <div class="score-item">
                    <div class="score-number cta">${scores.cta}</div>
                    <div class="score-label">Í≤∞(Áµê) ${classified.cta.length}Í∞ú</div>
                </div>
            `;
            
            // Î¨∏Ïû•Î≥Ñ Î∂ÑÏÑù ÌëúÏãú
            const analysisDiv = document.getElementById('analysis');
            let analysisHTML = `<h3>üìù Î¨∏Ïû•Î≥Ñ Î∂ÑÏÑù (Ï¥ù ${totalSentences}Î¨∏Ïû•)</h3>`;
            
            const phases = [
                { key: 'hook', name: productType === 'design' ? 'Í∏∞(Ëµ∑) - ÏãúÍ∞ÅÏ†Å ÏûÑÌå©Ìä∏' : 'Í∏∞(Ëµ∑) - Î¨∏Ï†ú ÏÉÅÌô© Ï†úÏãú', class: 'hook' },
                { key: 'problem', name: productType === 'design' ? 'Ïäπ(Êâø) - ÎîîÏûêÏù∏ Îß§Î†•' : 'Ïäπ(Êâø) - Í≥µÍ∞êÎåÄ ÌòïÏÑ±', class: 'problem' },
                { key: 'solution', name: productType === 'design' ? 'Ï†Ñ(ËΩâ) - Í∏∞Îä• Î≥¥ÎÑàÏä§' : 'Ï†Ñ(ËΩâ) - Í∏∞Îä• Ï§ëÏã¨ Ìï¥Í≤∞Ï±Ö', class: 'solution' },
                { key: 'cta', name: productType === 'design' ? 'Í≤∞(Áµê) - Ìù¨ÏÜåÏÑ± Íµ¨Îß§ Ïú†ÎèÑ' : 'Í≤∞(Áµê) - ÌñâÎèô Ïú†ÎèÑ', class: 'cta' }
            ];
            
            phases.forEach(phase => {
                if (classified[phase.key].length > 0) {
                    analysisHTML += `<div class="phase">`;
                    analysisHTML += `<div class="phase-title ${phase.class}">${phase.name}</div>`;
                    classified[phase.key].forEach(sentence => {
                        analysisHTML += `<div>${sentence.index}. ${sentence.text}</div>`;
                    });
                    analysisHTML += `</div>`;
                }
            });
            
            analysisDiv.innerHTML = analysisHTML;
            
            // Í∞úÏÑ† Ï†úÏïà
            const suggestionsDiv = document.getElementById('suggestions');
            const suggestions = generateSuggestions(classified, totalSentences, productType);
            
            let suggestionsHTML = '<h3>üí° Í∞úÏÑ† Ï†úÏïà</h3>';
            suggestions.forEach(suggestion => {
                suggestionsHTML += `<div class="suggestion">${suggestion}</div>`;
            });
            
            suggestionsDiv.innerHTML = suggestionsHTML;
            
            // Í≤∞Í≥º ÌëúÏãú
            document.getElementById('result').style.display = 'block';
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }
        
        function generateSuggestions(classified, total, productType) {
            const suggestions = [];
            
            if (productType === 'design') {
                // ÎîîÏûêÏù∏ Ï§ëÏã¨ Ï†úÌíà Ï†úÏïà
                if (classified.hook.length === 0) {
                    suggestions.push("ÏãúÍ∞ÅÏ†Å ÏûÑÌå©Ìä∏Í∞Ä ÏóÜÏñ¥Ïöî! 'ÏàòÎßéÏùÄ ~Î¥§ÏßÄÎßå Ïù¥Î†áÍ≤å ÏòàÏÅúÍ±¥ Ï≤òÏùå' Í∞ôÏùÄ Ï≤´Ïù∏ÏÉÅ Í∞ïÏ°∞Î•º Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî.");
                }
                
                if (classified.problem.length < 2) {
                    suggestions.push("ÎîîÏûêÏù∏ Îß§Î†• ÏÑ§Î™ÖÏù¥ Î∂ÄÏ°±Ìï¥Ïöî! Íµ¨Ï≤¥Ï†ÅÏù∏ ÏãúÍ∞ÅÏ†Å Î¨òÏÇ¨Î•º Îçî Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî.");
                }
                
                if (classified.solution.length === 0) {
                    suggestions.push("Í∏∞Îä• Î≥¥ÎÑàÏä§ Ïñ¥ÌïÑÏù¥ ÏóÜÏñ¥Ïöî! 'ÏòàÏÅòÍ∏∞Îßå ÌïúÍ≤å ÏïÑÎãàÎùº ~ÍπåÏßÄ' Í∞ôÏùÄ Î∂ÄÍ∞Ä Í∞ÄÏπòÎ•º Ïñ∏Í∏âÌïòÏÑ∏Ïöî.");
                }
                
                if (classified.cta.length === 0) {
                    suggestions.push("Ìù¨ÏÜåÏÑ± CTAÍ∞Ä ÏóÜÏñ¥Ïöî! 'Ïñ¥Î†µÍ≤å Ï∞æÏïÑÏôîÏñ¥Ïöî' Í∞ôÏùÄ ÌäπÎ≥ÑÌï®ÏùÑ Í∞ïÏ°∞ÌïòÏÑ∏Ïöî.");
                }
            } else {
                // Í∏∞Îä• Ï§ëÏã¨ Ï†úÌíà Ï†úÏïà
                if (classified.hook.length === 0) {
                    suggestions.push("ÌõÖÏù¥ ÏóÜÏñ¥Ïöî! 'ÏöîÏ¶ò Ìï¥Ïô∏ÏóêÏÑú ~Í∞Ä Ìï´Ìï¥Ïöî' Í∞ôÏùÄ Í¥ÄÏã¨ ÎÅÑÎäî Î¨∏Ïû•ÏùÑ Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî.");
                }
                
                if (classified.problem.length === 0) {
                    suggestions.push("Î¨∏Ï†ú Ï†úÍ∏∞Í∞Ä ÏóÜÏñ¥Ïöî! Í∏∞Ï°¥ Ï†úÌíàÏùò Î∂àÌé∏Ìï®ÏùÑ Ïñ∏Í∏âÌï¥Î≥¥ÏÑ∏Ïöî.");
                }
                
                if (classified.solution.length < 2) {
                    suggestions.push("Ï†úÌíà ÏÑ§Î™ÖÏù¥ Î∂ÄÏ°±Ìï¥Ïöî! Íµ¨Ï≤¥Ï†Å Í∏∞Îä•Í≥º Ïû•Ï†êÏùÑ Îçî ÏÑ§Î™ÖÌïòÏÑ∏Ïöî.");
                }
                
                if (classified.cta.length === 0) {
                    suggestions.push("CTAÍ∞Ä ÏóÜÏñ¥Ïöî! 'ÎåìÍ∏ÄÏóê ~~ Ï†ÅÏñ¥Ï£ºÏÑ∏Ïöî' Í∞ôÏùÄ ÌñâÎèô Ïú†ÎèÑÎ•º Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî.");
                }
            }
            
            if (total < 6) {
                suggestions.push("ÎåÄÎ≥∏Ïù¥ ÎÑàÎ¨¥ ÏßßÏïÑÏöî. 6-10Î¨∏Ïû• Ï†ïÎèÑÍ∞Ä Ï†ÅÎãπÌï¥Ïöî.");
            }
            
            if (total > 10) {
                suggestions.push("ÎåÄÎ≥∏Ïù¥ ÎÑàÎ¨¥ Í∏∏Ïñ¥Ïöî. 8-10Î¨∏Ïû• Ï†ïÎèÑÎ°ú Ï§ÑÏó¨Î≥¥ÏÑ∏Ïöî.");
            }
            
            if (suggestions.length === 0) {
                suggestions.push("ÏôÑÎ≤ΩÌïú ÏÜåÏù¥Ìôà Ïä§ÌÉÄÏùº ÎåÄÎ≥∏Ïù¥ÏóêÏöî! üéâ");
            }
            
            return suggestions;
        }
    </script>
</body>
</html>
